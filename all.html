<!doctype html>
<html class="no-js" lang="zxx">

<head>
	<meta charset="utf-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<title>NEBULAS CAR GALLERY</title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- all css here -->
	<link rel="stylesheet" href="assets/css/bootstrap.min.css">
	<link rel="stylesheet" href="assets/css/animate.css">
	<link rel="stylesheet" href="assets/css/owl.carousel.min.css">
	<link rel="stylesheet" href="assets/css/chosen.min.css">
	<link rel="stylesheet" href="assets/css/meanmenu.min.css">
	<link rel="stylesheet" href="assets/css/themify-icons.css">
	<link rel="stylesheet" href="assets/css/icofont.css">
	<link rel="stylesheet" href="assets/css/font-awesome.min.css">
	<link rel="stylesheet" href="assets/css/bundle.css">
	<link rel="stylesheet" href="assets/css/style.css">
	<link rel="stylesheet" href="assets/css/responsive.css">
	<script src="assets/js/vendor/modernizr-2.8.3.min.js"></script>
	<script src="./dist/nebulas.js"></script>
	<script src="./dist/nebPay.js"></script>
</head>

<body>
	<div class="wrapper">
		<header>
			<div class="header-area transparent-bar ptb-55 header-white">
				<div class="container">
					<div class="row">
						<div class="col-lg-4 col-md-4 col-4">
							<div class="logo-small-device">
								<a class="logo-sticky-none" href="index.html">
									<img alt="" src="assets/img/logo/2.png">
								</a>
								<a class="logo-for-sticky" href="index.html">
									<img alt="" src="assets/img/logo/logo.png">
								</a>
							</div>
						</div>
						<div class="col-lg-8 col-md-8 col-8">
							<div class="header-contact-menu-wrapper pl-45">
								<div class="header-contact">
									<p>WANT TO TALK WITH US +616 319-9652</p>
								</div>
								<div class="menu-wrapper text-center">
									<button class="menu-toggle menu-sticky-none">
										<img class="s-open" alt="" src="assets/img/icon-img/menu-2.png">
										<img class="s-close" alt="" src="assets/img/icon-img/menu-close-2.png">
									</button>
									<button class="menu-toggle menu-for-sticky">
										<img class="s-open" alt="" src="assets/img/icon-img/menu.png">
										<img class="s-close" alt="" src="assets/img/icon-img/menu-close.png">
									</button>
									<div class="main-menu">
										<nav>
											<ul>
												<li>
													<a href="index.html">Home</a>
												</li>
												<li class="active">
													<a href="add.html">Edit my car </a>
												</li>
												<li class="active">
													<a href="all.html">All the sports cars </a>
												</li>
												<li>
													<a href="https://github.com/nebulasio/WebExtensionWallet">WebExtensionWallet</a>
												</li>
											</ul>
										</nav>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</header>
		<div class="breadcrumb-area pt-255 pb-170" style="background-image: url(assets/img/banner/banner-4.jpg)">
			<div class="container-fluid">
				<div class="breadcrumb-content text-center">
					<h2>ALL THE SPORTS CARS </h2>
					<ul>
						<li>Cannot be changed</li>
					</ul>
				</div>
			</div>
		</div>

		<div class="banner-area pt-100 pb-90">
			<div class="container">
				<div class="row" id="carlist">
					<!-- <div class="col-md-4 col-lg-4">
						<div class="banner-wrapper mb-30">
							<a href="#">
								<img src="assets/img/banner/banner-1.jpg" alt="image">
							</a>
							<div class="banner-content">
								<h2>William's BMW 2</h2>
							</div>
						</div>
					</div> -->
				</div>
			</div>
		</div>
		<div class="newsletter-area">
			<div class="container">
				<div class="newsletter-wrapper-all theme-bg-2">
					<div class="row">
						<div class="col-lg-5 col-12 col-md-12">
							<div class="newsletter-img bg-img" style="background-image: url(assets/img/banner/newsletter-bg.png)">
								<img alt="image" src="assets/img/team/newsletter-img.png">
							</div>
						</div>
						<div class="col-lg-7 col-12 col-md-12">
							<div class="newsletter-wrapper text-center">
								<div class="newsletter-title">
									<h3>Check your sports car</h3>
								</div>
								<div id="mc_embed_signup" class="subscribe-form">
									<form action="#" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank"
									    novalidate>
										<div id="mc_embed_signup_scroll" class="mc-form">
											<input type="text" value="" id="address" placeholder="Enter your wallet address here..." required>
											<!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
											<div class="mc-news" aria-hidden="true">
												<input type="text" name="b_6bbb9b6f5827bd842d9640c82_05d85f18ef" tabindex="-1" value="">
											</div>
											<div class="clear">
												<input type="button" id="serarch" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button">
											</div>
										</div>
									</form>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<footer>
			<div class="footer-top pt-210 pb-38 theme-bg">
				<div class="container">
					<div class="row">
						<div class="col-lg-3 col-md-6 col-12">
							<div class="footer-widget mb-30">
								<div class="footer-logo">
									<a href="index.html">
										<img src="assets/img/logo/2.png" alt="">
									</a>
								</div>
								<div class="footer-about">
									<p>
										<span>NEBULAS CAR GALLERY</span>&nbsp;Is the most classic blockchain application in the field of sports cars.You can
										edit any of your favorite models,They will always exist in the blockchain and cannot be changed. </p>

								</div>
							</div>
						</div>
						<div class="col-lg-3 col-md-6 col-12">
							<div class="footer-widget mb-30 pl-60">
								<div class="footer-widget-title">
									<h3>FRIENDSHIP LINK</h3>
								</div>
								<div class="quick-links">
									<ul>
										<li>
											<a href="https://nebulas.io/">nebulas</a>
										</li>
										<li>
											<a href="https://nebulas.io/incentive.html">Incentive Program</a>
										</li>
										<li>
											<a href="https://github.com/nebulasio/WebExtensionWallet">WebExtensionWallet</a>
										</li>
									</ul>
								</div>
							</div>
						</div>
						<div class="col-lg-3 col-md-6 col-12">
							<div class="footer-widget mb-30">
								<div class="footer-widget-title">
									<h3>contact us</h3>
								</div>
								<div class="food-widget-content pr-30">
									<div class="single-tweet">
										<p>Phone : 6 1 6 3 1 9 9 6 5 2</p>
									</div>
									<div class="single-tweet">
										<p>Email : jack06028@outlook.com</p>
									</div>
								</div>
							</div>
						</div>
						<div class="col-lg-3 col-md-6 col-12">
							<div class="footer-widget mb-30">
								<div class="footer-widget-title">
									<h3>CONTACT INFO</h3>
								</div>
								<div class="food-info-wrapper">
									<div class="food-address">
										<div class="food-info-title">
											<span>Address</span>
										</div>
										<div class="food-info-content">
											<p>276 Jhilli Nogor, 4044 Poe Road, Beaufort</p>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</footer>
	</div>







	<!-- all js here -->
	<script src="assets/js/vendor/jquery-1.12.0.min.js"></script>
	<script src="assets/js/popper.js"></script>
	<script src="assets/js/bootstrap.min.js"></script>
	<script src="assets/js/isotope.pkgd.min.js"></script>
	<script src="assets/js/imagesloaded.pkgd.min.js"></script>
	<script src="assets/js/jquery.counterup.min.js"></script>
	<script src="assets/js/waypoints.min.js"></script>
	<script src="assets/js/ajax-mail.js"></script>
	<script src="assets/js/owl.carousel.min.js"></script>
	<script src="assets/js/plugins.js"></script>
	<script src="assets/js/main.js"></script>
</body>
<script>
	function getQueryString(name) {
		var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)", "i");
		var reg_rewrite = new RegExp("(^|/)" + name + "/([^/]*)(/|$)", "i");
		var r = window.location.search.substr(1).match(reg);
		var q = window.location.pathname.substr(1).match(reg_rewrite);
		if (r != null) {
			return unescape(r[2]);
		} else if (q != null) {
			return unescape(q[2]);
		} else {
			return null;
		}
	}
	var info = getQueryString('info');
	if (info) {
		"use strict";
		var dappContactAddress = "n1gB2YravEUrUPrR3QiuHuM26pbqfwh4qVe";
		var nebulas = require("nebulas"),
			Account = Account,
			neb = new nebulas.Neb();
		neb.setRequest(new nebulas.HttpRequest("https://mainnet.nebulas.io"));

		var NebPay = require("nebpay"); //https://github.com/nebulasio/nebPay
		var nebPay = new NebPay();
		var serialNumber;
		var to = dappContactAddress;
		var value = "0";
		var nonce = "0"
		var gas_price = "1000000"
		var gas_limit = "2000000"
		var callFunction = "getinfoByauthor";
		var callArgs = "[\"" + info + "\"]";
		var contract = {
			"function": callFunction,
			"args": callArgs
		}
		neb.api.call(dappContactAddress, dappContactAddress, value, nonce, gas_price, gas_limit, contract).then(function (
			resp) {
			var result = resp.result;
			if (result == '[]') {
				var html = '<div class="col-md-12 col-lg-12"><h3>This address no sports car in Blockchain</h3></div>';
				$("#carlist").append(html);
			}
			result = JSON.parse(result);
			var html = '';
			for (var i = 0; i < result.length; i++) {
				html += '<div class="col-md-4 col-lg-4"><div class="banner-wrapper mb-30"><a href="single.html?id=' + result[i]._id +
					'&address=' + result[i].author + '">';
				html += '<img src="' + result[i].carthumb +
					'" alt="image" style="max-height: 295px"></a><div class="banner-content"><h2>' + result[i].carname +
					'</h2></div></div></div>'
			}
			$("#carlist").append(html);
		}).catch(function (err) {
			console.log("error :" + err.message);
		})
	} else {
		"use strict";
		var dappContactAddress = "n1gB2YravEUrUPrR3QiuHuM26pbqfwh4qVe";
		var nebulas = require("nebulas"),
			Account = Account,
			neb = new nebulas.Neb();
		neb.setRequest(new nebulas.HttpRequest("https://mainnet.nebulas.io"));

		var NebPay = require("nebpay"); //https://github.com/nebulasio/nebPay
		var nebPay = new NebPay();
		var serialNumber;
		var to = dappContactAddress;
		var value = "0";
		var nonce = "0"
		var gas_price = "1000000"
		var gas_limit = "2000000"
		var callFunction = "getAll";
		var callArgs = "[]";
		var contract = {
			"function": callFunction,
			"args": callArgs
		}
		neb.api.call(dappContactAddress, dappContactAddress, value, nonce, gas_price, gas_limit, contract).then(function (
			resp) {
			var result = resp.result;
			result = JSON.parse(result);
			console.log(result);
			var html = '';
			for (var i = 0; i < result.length; i++) {
				html += '<div class="col-md-4 col-lg-4"><div class="banner-wrapper mb-30"><a href="single.html?id=' + result[i]._id +
					'&address=' + result[i].author + '">';
				html += '<img src="' + result[i].carthumb +
					'" alt="image" style="max-height: 295px"></a><div class="banner-content"><h2>' + result[i].carname +
					'</h2></div></div></div>'
			}
			$("#carlist").append(html);
		}).catch(function (err) {
			console.log("error :" + err.message);
		})
	}

	$('#serarch').click(function () {
		$('#serarch').click(function () {
			if ($("#address").val().length != 35) {
				alert("your wallet address is valid");
				return;
			}
			var url = 'http://' + document.domain + '/nebulascargallery/all.html?info=' + $("#address").val();
			openwin(url);
			return;
		})
		var url = 'http://' + document.domain + '/nebulascargallery/all.html?info=' + $("#address").val();
		openwin(url);
		return;
	})

	function openwin(url) {
		var a = document.createElement("a"); //创建a对象
		a.setAttribute("href", url);
		a.setAttribute("target", "_blank");
		a.setAttribute("id", "camnpr");
		document.body.appendChild(a);
		a.click(); //执行当前对象
	}
</script>


</html>